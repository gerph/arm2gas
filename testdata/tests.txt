##
# Test script for ObjAsm-to-GAS converter
#
# Comments prefixed by '#'.
#
# Format:
#
# Group: <name>
# Command: <command>
# File: <source filename>
# Expect: <expectation filename>
# Replace: <replacements filename>
# Creates: <output file>
# Length: <length of the created file>
# RC: <return code expected>
#
# Test: <name>
# <sequence of Command, File, Expect, etc>
#
# <command> may contain:
#    $TOOL      - Name of the tool (native format)
#    $FILE      - Filename as supplied
#    $OFILE     - Object filename (in format supplied)
#    $SFILE     - Source assembler filename (in format supplied)
#

Group: Sections
Command: $TOOL objasm/$ARG1.s -o gas/$ARG1.s $ARG2

Test: Section declarations
Args: sections/code_and_data

Test: Unrecognised flag
Args: sections/unrecognised --strict
RC: 3



Group: Data file
Command: $TOOL objasm/$ARG1.s -o gas/$ARG1.s

Test: Example data for AArch64
Args: data/aarch64_helloworld


Group: Register naming
Command: $TOOL objasm/$ARG1.s -o gas/$ARG1.s

Test: Register naming
Args: regnaming/renaming



Group: Definitions
Command: $TOOL objasm/$ARG1.s -o gas/$ARG1.s

Test: Constants for values
Args: definitions/constants

Test: Constants with expressions for values
Args: definitions/constants_expressions

Test: Mappings for values
Args: definitions/mappings

Test: Mappings with regbase for values
Args: definitions/mappings_withreg
